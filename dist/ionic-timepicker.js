angular.module("ionic-timepicker",["ionic","ionic-timepicker.templates"]).directive("ionicTimepicker",function(e,t){return{restrict:"AE",replace:!0,scope:{time:"=",step:"@",format:"@",popupTitle:"@",btnCloseText:"@",btnSetText:"@",btnCloseType:"@",btnSetType:"@"},link:function(i,n,r){n.on("click",function(){function n(){i.slot={hours:t("date")(i.timePicker.time,12==i.timePicker.format?"hh":"HH"),minutes:t("date")(i.timePicker.time,"mm"),meridian:t("date")(i.timePicker.time,"a")}}i.timePicker={time:angular.isDefined(i.time)?i.time:new Date,step:angular.isDefined(i.step)&&i.step>0&&i.step<60?i.step:10,format:angular.isDefined(i.format)&&24==i.format?24:12,popupTitle:"",btnCloseText:angular.isDefined(i.btnCloseText)?i.btnCloseText:"Close",btnSetText:angular.isDefined(i.btnSetText)?i.btnSetText:"Set",btnCloseType:angular.isDefined(i.btnCloseType)?i.btnCloseType:"button-default",btnSetType:angular.isDefined(i.btnSetType)?i.btnSetType:"button-positive"},i.timePicker.popupTitle=angular.isDefined(i.popupTitle)?i.popupTitle:12==i.timePicker.format?"12-Hour Format":"24-Hour Format",n(),i.increaseHours=function(){i.timePicker.time.setHours(i.timePicker.time.getHours()+1),n()},i.decreaseHours=function(){i.timePicker.time.setHours(i.timePicker.time.getHours()-1),n()},i.increaseMinutes=function(){i.timePicker.time.getMinutes()%i.timePicker.step!=0&&i.timePicker.time.setMinutes(i.timePicker.time.getMinutes()-i.timePicker.time.getMinutes()%i.timePicker.step),i.timePicker.time.setMinutes(i.timePicker.time.getMinutes()+i.timePicker.step),n()},i.decreaseMinutes=function(){i.timePicker.time.setMinutes(i.timePicker.time.getMinutes()%i.timePicker.step!=0?i.timePicker.time.getMinutes()-i.timePicker.time.getMinutes()%i.timePicker.step:i.timePicker.time.getMinutes()-i.timePicker.step),n()},12==i.timePicker.format&&(i.changeMeridian=function(){i.timePicker.time.setHours(i.timePicker.time.getHours()+12),n()}),e.show({templateUrl:"time-picker.html",title:"<strong>"+i.timePicker.popupTitle+"</strong>",subTitle:"",scope:i,buttons:[{text:i.timePicker.btnCloseText,type:i.timePicker.btnCloseType},{text:i.timePicker.btnSetText,type:i.timePicker.btnSetType,onTap:function(e){i.time.setHours(i.timePicker.time.getHours()),i.time.setMinutes(i.timePicker.time.getMinutes())}}]})})}}});